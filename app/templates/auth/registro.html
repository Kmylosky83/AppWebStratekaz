{% extends "base.html" %}

{% block title %}Registro - StrateKaz{% endblock %}

{% block extra_head %}
<!-- reCAPTCHA -->
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
{% endblock %}

{% block content %}
<div class="row justify-content-center align-items-center py-4">
    <div class="col-md-8">
        <div class="card shadow-sm">
            <div class="card-body p-4">
                <!-- Logo -->
                <div class="text-center mb-4">
                    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="StrateKaz" class="img-fluid mb-3" style="max-height: 45px;">
                </div>

                <!-- Progress bar -->
                <div class="progress mb-4" style="height: 3px;">
                    <div class="progress-bar" role="progressbar" style="width: 0%" id="progress-bar"></div>
                </div>

                <!-- Step 1: Tipo de Usuario -->
                <div class="step" id="step1">
                    <h5 class="text-center mb-4">¿Qué tipo de usuario eres?</h5>
                    <div class="row g-4">
                        <div class="col-md-6">
                            <div class="card h-100 user-type-card" onclick="selectUserType('professional')">
                                <div class="card-body text-center p-4 hover-effect">
                                    <i class="fas fa-user-tie fa-3x mb-3"></i>
                                    <h6>Profesional Independiente</h6>
                                    <p class="small text-muted">Para profesionales que trabajan de manera independiente</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card h-100 user-type-card" onclick="selectUserType('company')">
                                <div class="card-body text-center p-4 hover-effect">
                                    <i class="fas fa-building fa-3x mb-3"></i>
                                    <h6>Empresa</h6>
                                    <p class="small text-muted">Para empresas y organizaciones</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Formulario según tipo -->
                <div class="step d-none" id="step2"></div>

                <!-- Step 3: Formulario adicional -->
                <div class="step d-none" id="step3"></div>

                <!-- Step 4: Verificación -->
                <div class="step d-none" id="step4"></div>

                <!-- Navigation buttons -->
                <div class="d-flex justify-content-between mt-4">
                    <button class="btn btn-secondary d-none" id="prevBtn" onclick="prevStep()">
                        <i class="fas fa-arrow-left me-2"></i>Anterior
                    </button>
                    <button class="btn btn-primary disabled" id="nextBtn" onclick="nextStep()">
                        Siguiente<i class="fas fa-arrow-right ms-2"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modals -->
<div class="modal fade" id="termsModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Términos y Condiciones</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <!-- Contenido de términos y condiciones -->
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="privacyModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Política de Privacidad</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <!-- Contenido de política de privacidad -->
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block styles %}
<style>
    /* Estilos base de las tarjetas de selección */
    .user-type-card, .company-type-card {
        border: 2px solid transparent;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
    }
    
    /* Efecto hover SOLO para tarjetas de selección */
    .user-type-card:hover, .company-type-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 15px rgba(236, 38, 143, 0.1);
    }
    
    /* Tarjeta principal - sin efectos de movimiento */
    .card.shadow-sm {
        box-shadow: 0 .125rem .25rem rgba(0,0,0,.075) !important;
        transform: none !important;
        transition: none !important;
    }
    
    /* Tarjetas seleccionadas */
    .user-type-card.selected, .company-type-card.selected {
        border-color: #ec268f;
        box-shadow: 0 4px 15px rgba(236, 38, 143, 0.2);
    }
    
    /* Controles de formulario */
    .form-select {
        width: 100%;
        max-width: 100%;
        overflow: hidden;
    }
    
    .form-control:focus, .form-select:focus {
        border-color: #ec268f;
        box-shadow: 0 0 0 0.2rem rgba(236, 38, 143, 0.25);
    }
    
    /* Barra de progreso */
    .progress-bar {
        background-color: #ec268f;
        transition: width 0.3s ease;
    }
    
    /* Botones */
    .btn-primary {
        background-color: #ec268f;
        border-color: #ec268f;
    }
    
    .btn-primary:hover {
        background-color: #d11f7d;
        border-color: #d11f7d;
    }
    </style>
{% endblock %}

{% block scripts %}
<!-- Font Awesome -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
<!-- Custom JS -->
<script src="{{ url_for('static', filename='js/registro.js') }}"></script>
{% endblock %}