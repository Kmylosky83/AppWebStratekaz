{% extends "base.html" %}

{% block title %}Registro - StrateKaz{% endblock %}

{% block extra_head %}
<!-- reCAPTCHA -->
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
{% endblock %}

{% block content %}
<div class="row justify-content-center align-items-center py-4">
    <div class="col-md-8">
        <div class="card static-card">
            <div class="card-body p-4">
                <!-- Logo -->
                <div class="text-center mb-4">
                    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="StrateKaz" class="img-fluid mb-3" style="max-height: 65px;">
                </div>

                <!-- Progress bar -->
                <div class="progress mb-4" style="height: 3px;">
                    <div class="progress-bar" role="progressbar" style="width: 0%" id="progress-bar"></div>
                </div>

                <!-- Step 1: Tipo de Usuario -->
                <div class="step" id="step1">
                    <h5 class="text-center mb-4">¿Qué tipo de usuario eres?</h5>
                    <div class="row g-4">
                        <div class="col-md-6">
                            <div class="card h-100 user-type-card" onclick="selectUserType('professional')">
                                <div class="card-body text-center p-4 hover-effect">
                                    <i class="fas fa-user-tie fa-3x mb-3"></i>
                                    <h6>Profesional Independiente</h6>
                                    <p class="small text-muted">Para profesionales que trabajan de manera independiente</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card h-100 user-type-card" onclick="selectUserType('company')">
                                <div class="card-body text-center p-4 hover-effect">
                                    <i class="fas fa-building fa-3x mb-3"></i>
                                    <h6>Empresa</h6>
                                    <p class="small text-muted">Para empresas y organizaciones</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Formulario según tipo -->
                <div class="step d-none" id="step2"></div>

                <!-- Step 3: Formulario adicional -->
                <div class="step d-none" id="step3"></div>

                
                <!-- Navigation buttons -->
                <div class="d-flex justify-content-between mt-4">
                    <button class="btn btn-secondary d-none" id="prevBtn" onclick="prevStep()">
                        <i class="fas fa-arrow-left me-2"></i>Anterior
                    </button>
                    <button class="btn btn-primary disabled" id="nextBtn" onclick="nextStep()">
                        Siguiente<i class="fas fa-arrow-right ms-2"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modals -->
<div class="modal fade" id="termsModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Términos y Condiciones</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <h6>1. Aceptación de los Términos</h6>
                <p>Al registrarse y utilizar StrateKaz, usted acepta estar sujeto a estos términos y condiciones. Si no está de acuerdo con alguna parte de estos términos, no podrá usar nuestros servicios.</p>
            
                <h6>2. Uso del Servicio</h6>
                <p>El servicio debe utilizarse de acuerdo con todas las leyes aplicables y de manera ética. Está prohibido usar el servicio para actividades ilegales o no autorizadas.</p>
            
                <h6>3. Cuenta de Usuario</h6>
                <p>Usted es responsable de mantener la confidencialidad de su cuenta y contraseña. Debe notificar inmediatamente cualquier uso no autorizado de su cuenta.</p>
            
                <h6>4. Privacidad y Datos</h6>
                <p>La información proporcionada será tratada según nuestra política de privacidad. Nos comprometemos a proteger su información personal.</p>
            
                <h6>5. Propiedad Intelectual</h6>
                <p>Todo el contenido y materiales disponibles en StrateKaz están protegidos por derechos de autor y otras leyes de propiedad intelectual.</p>
            
                <h6>6. Limitación de Responsabilidad</h6>
                <p>StrateKaz no será responsable por daños indirectos, incidentales o consecuentes que surjan del uso del servicio.</p>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="privacyModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Política de Privacidad</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <h6>1. Información que Recopilamos</h6>
                <p>Recopilamos información personal que usted nos proporciona directamente, incluyendo nombre, correo electrónico, y datos profesionales o empresariales.</p>
            
                <h6>2. Uso de la Información</h6>
                <p>Utilizamos su información para:
                    - Proporcionar y mantener nuestros servicios
                    - Personalizar su experiencia
                    - Enviar comunicaciones importantes
                    - Mejorar nuestros servicios</p>
            
                <h6>3. Protección de Datos</h6>
                <p>Implementamos medidas de seguridad técnicas y organizativas para proteger su información personal contra acceso no autorizado o pérdida.</p>
            
                <h6>4. Compartir Información</h6>
                <p>No vendemos ni compartimos su información personal con terceros, excepto cuando sea necesario para proporcionar nuestros servicios o cuando lo exija la ley.</p>
            
                <h6>5. Sus Derechos</h6>
                <p>Tiene derecho a:
                    - Acceder a su información personal
                    - Corregir datos inexactos
                    - Solicitar la eliminación de sus datos
                    - Oponerse al procesamiento de sus datos</p>
            
                <h6>6. Cambios en la Política</h6>
                <p>Podemos actualizar esta política ocasionalmente. Le notificaremos cualquier cambio material en el procesamiento de información personal.</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block styles %}
<style>
    /* Estilos para las tarjetas de selección */
    .step .user-type-card,
    .step .company-type-card {
        border: 2px solid transparent;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
        background: white;
        border-radius: 0.5rem;
    }

    /* Hover efecto SOLO para tarjetas de selección */
    .step .user-type-card:hover,
    .step .company-type-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 15px rgba(236, 38, 143, 0.1);
    }
    
    /* Tarjetas seleccionadas */
    .user-type-card.selected, 
    .company-type-card.selected {
        border-color: #ec268f;
        box-shadow: 0 4px 15px rgba(236, 38, 143, 0.2);
    }
    
    /* Controles de formulario */
    .form-select {
        width: 100%;
        max-width: 100%;
        overflow: hidden;
    }
    
    .form-control:focus, 
    .form-select:focus {
        border-color: #ec268f;
        box-shadow: 0 0 0 0.2rem rgba(236, 38, 143, 0.25);
    }
    
    /* Barra de progreso */
    .progress {
        background-color: #f8f9fa;
    }

    .progress-bar {
        background-color: #ec268f;
        transition: width 0.3s ease;
    }
    
    /* Botones */
    .btn-primary {
        background-color: #ec268f;
        border-color: #ec268f;
    }
    
    .btn-primary:hover {
        background-color: #d11f7d;
        border-color: #d11f7d;
    }

    /* Estilos para íconos en las tarjetas */
    .user-type-card i,
    .company-type-card i {
        color: #ec268f;
    }

    /* Modales */
    .modal-content {
        border: none;
        border-radius: 0.5rem;
    }

    .modal-header {
        border-bottom: 1px solid #f1f1f1;
    }
</style>
{% endblock %}

{% block extra_scripts %}
<!-- Font Awesome -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
<!-- Custom JS -->
<script src="{{ url_for('static', filename='js/registro.js') }}"></script>
{% endblock %}
